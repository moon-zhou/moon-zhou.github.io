<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="never stop">
    

    <!--Author-->
    
        <meta name="author" content="moon zhou">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="一次全表扫描关于分布式id的总结"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="never stop" />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="弦 博客"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>一次全表扫描关于分布式id的总结 - 弦 博客</title>

    <!-- Tachyons Core CSS -->
    <link rel="stylesheet" href="//unpkg.com/tachyons/css/tachyons.min.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<!-- Main Content -->
<!-- Banner -->
<!-- Banner -->
<div class="w-100 bg-1 ph5-ns ph3 text-light">
    
    <nav class="db dt-l w-100 mw8 center border-box pv3">
        <a class="db dtc-l v-mid link dim w-100 w-25-l tc tl-l mb2 mb0-l white" href="/" title="弦 博客">
            <img src="http://www.codeblocq.com/assets/projects/hexo-theme-anodyne/assets/anodyne.svg" class="dib h3" alt="弦 博客">
        </a>
        <div class="db dtc-l v-mid w-100 w-75-l tc tr-l">
            
                <a class="link dim f6 f5-l dib mr3 mr4-l white" 
                    href="/" 
                    title="Home">
                    Home
                </a>
            
                <a class="link dim f6 f5-l dib mr3 mr4-l white" 
                    href="/archives" 
                    title="Archives">
                    Archives
                </a>
            
                <a class="link dim f6 f5-l dib mr3 mr4-l white" 
                    href="/tags" 
                    title="Tags">
                    Tags
                </a>
            
                <a class="link dim f6 f5-l dib mr3 mr4-l white" 
                    href="/categories" 
                    title="Categories">
                    Categories
                </a>
            
                <a class="link dim f6 f5-l dib mr3 mr4-l white" 
                    href="/about.html" 
                    title="About">
                    About
                </a>
            
                <a class="link dim f6 f5-l dib mr3 mr4-l white" 
                    href="/contact.html" 
                    title="Contact">
                    Contact
                </a>
            
        </div>
    </nav>

    <!-- Title -->
    <div class="w-100 mw8 center vh-40 dt">
        <div class="dtc v-mid white">
            <h1 class="f1-l f2-m tc tc-m tl-ns">一次全表扫描关于分布式id的总结</h1>
            <p class="f4 fw3 pab-100px tc tc-m tl-ns">2019-08-04</p>
        </div>
    </div>

    <!-- Icon -->
    <div class="relative w-100 mw8 center white dn dn-m db-ns">
        <i class="header-icon fa fa-file-text-o"></i>
    </div>
</div>

<!-- Content -->
<div class="w-100 ph2 ph4-m ph5-l mv5 mv6-l">
    <div class="content">
        <div class="mw8 center">
            <div class="cf">
                <div class="fl w-100 w-70-l mw7 left fw3 lh-copy pr4-ns pr0-m post-content">
                    <!-- Tags Vertical -->
                    

                    <!-- Main Post Content -->
                    <h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><pre><code>最近需要对某一个做了分表的数据，进行全表扫描做数据筛选后进行消息推送。
</code></pre><h4 id="设计思路"><a href="#设计思路" class="headerlink" title="设计思路"></a>设计思路</h4><ol>
<li>全表扫描时的筛选条件是什么</li>
<li>如何保证全表批量扫描时，每一批的数据量大致相同</li>
<li>确保可以全表扫描，没有数据的遗漏</li>
</ol>
<h4 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h4><ol>
<li>我们使用了Mycat来进行分库分表</li>
<li>分表字段为用户id</li>
<li>使用Mycat的sequence，来生成表的主键id，从而保证了所有表id的整体递增</li>
<li>固定每一次的数据量1000，按条件筛选后，批次处理数据量偏差不大，不会存在数据过大OOM的风险</li>
<li>知道总体的数据，从1~最后的数据，可以确保全表扫描</li>
</ol>
<h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><ol>
<li>强依赖Mycat，Mycat依赖数据库的sequence配置表（实现方式）</li>
<li>数据落库时，id都需要通过Mycat获取sequence的当前值，作为数据的id，如果并发过高，对数据库的压力会比较大</li>
<li>配置表所在的Mysql宕机后，如果数据未及时同步，存在id重复的情况</li>
</ol>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><pre><code>以上的方案我们可以使用，是因为业务场景为扫描的用户配置信息，用户在设置操作时，不会存在高并发的情况，所以完全没有问题。（没有业务场景的方案设计，都是耍流氓）
</code></pre><h4 id="抽象-发散"><a href="#抽象-发散" class="headerlink" title="抽象/发散"></a>抽象/发散</h4><pre><code>在高并发，分布式系统里，如何生成全局唯一、趋势递增的id
</code></pre><h4 id="相关场景"><a href="#相关场景" class="headerlink" title="相关场景"></a>相关场景</h4><ol>
<li>秒杀的业务场景下如何生成全局唯一、趋势递增的订单编号</li>
</ol>
<h4 id="基本要求"><a href="#基本要求" class="headerlink" title="基本要求"></a>基本要求</h4><ol>
<li>保证订单编号的生成逻辑要快、稳定，减少时延</li>
<li>保证生成的订单编号全局唯一、不重复、趋势递增、有时序性</li>
</ol>
<h4 id="实现方案"><a href="#实现方案" class="headerlink" title="实现方案"></a>实现方案</h4><ol>
<li>时间戳 [+ 机器码] + N位随机数流水号<ul>
<li>缺点：<ul>
<li>并发量高的场景，易出现重复id</li>
</ul>
</li>
</ul>
</li>
<li>数据库生成<ul>
<li>规则：利用数据库（Mysql）的自增id，每一个表的初始值不一样，步长为分库/分表的数量（e.g. DB1-ID-(1,4,7…),DB2-ID-(2,5,8…),DB3-ID-(3,6,9…)）</li>
<li>缺点：<ul>
<li>强依赖数据库，主从切换时的不一致可能会导致重复发号</li>
<li>性能及高可用瓶颈在数据库</li>
</ul>
</li>
</ul>
</li>
<li><p>redis</p>
<ul>
<li>规则：利用 INCR 和 INCRBY这样的自增原子命令（Redis自身的单线程的特点所以能保证生成的 ID 肯定是唯一有序的）</li>
<li>缺点：<ul>
<li>单机存在性能瓶颈</li>
<li>集群的方式又会涉及到和数据库集群同样的问题，所以也需要设置分段和步长来实现。</li>
</ul>
</li>
<li>优点：<ul>
<li>性能比较高</li>
<li>生成的数据是有序的</li>
</ul>
</li>
<li>其他注意点：为了避免长期自增后数字过大可以通过与当前时间戳组合起来使用，另外为了保证并发和业务多线程的问题可以采用 Redis + Lua的方式进行编码，保证安全。</li>
</ul>
</li>
<li><p>雪花算法（snowflake-64bit）</p>
<ul>
<li>规则：第一位固定0 + 41bit时间戳 + 10bit机器码 + 12bit序列号，10bit机器码还可以进行拆分为5bit数据中心标识 + 5bit机器标识<ul>
<li>第1位占用1bit，其值始终是0，可看做是符号位不使用。</li>
<li>第2位开始的41位是时间戳，41-bit位可表示2^41个数，每个数代表毫秒，那么雪花算法可用的时间年限是(1L&lt;&lt;41)/(1000L360024*365)=69 年的时间。</li>
<li>中间的10-bit位可表示机器数，即2^10 = 1024台机器，但是一般情况下我们不会部署这么台机器。如果我们对IDC（互联网数据中心）有需求，还可以将 10-bit 分 5-bit 给 IDC，分5-bit给工作机器。这样就可以表示32个IDC，每个IDC下可以有32台机器，具体的划分可以根据自身需求定义。</li>
<li>最后12-bit位是自增序列，可表示2^12 = 4096个数。</li>
</ul>
</li>
<li>优点：<ul>
<li>ID是趋势递增</li>
<li>不依赖数据库等第三方系统，以服务的方式部署，稳定性更高</li>
<li>生成ID的性能高（算法简单）</li>
<li>可以根据自身业务特性分配bit位，非常灵活</li>
</ul>
</li>
<li>缺点：<ul>
<li>强依赖机器时钟，如果机器上时钟回拨，会导致发号重复或者服务会处于不可用状态。直至时间被追回。</li>
</ul>
</li>
<li>实现  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div></pre></td><td class="code"><pre><div class="line">package com.jajian.demo.distribute;</div><div class="line"></div><div class="line">/**</div><div class="line"> * Twitter_Snowflake&lt;br&gt;</div><div class="line"> * SnowFlake的结构如下(每部分用-分开):&lt;br&gt;</div><div class="line"> * 0 - 0000000000 0000000000 0000000000 0000000000 0 - 00000 - 00000 - 000000000000 &lt;br&gt;</div><div class="line"> * 1位标识，由于long基本类型在Java中是带符号的，最高位是符号位，正数是0，负数是1，所以id一般是正数，最高位是0&lt;br&gt;</div><div class="line"> * 41位时间截(毫秒级)，注意，41位时间截不是存储当前时间的时间截，而是存储时间截的差值（当前时间截 - 开始时间截)</div><div class="line"> * 得到的值），这里的的开始时间截，一般是我们的id生成器开始使用的时间，由我们程序来指定的（如下下面程序IdWorker类的startTime属性）。41位的时间截，可以使用69年，年T = (1L &lt;&lt; 41) / (1000L * 60 * 60 * 24 * 365) = 69&lt;br&gt;</div><div class="line"> * 10位的数据机器位，可以部署在1024个节点，包括5位datacenterId和5位workerId&lt;br&gt;</div><div class="line"> * 12位序列，毫秒内的计数，12位的计数顺序号支持每个节点每毫秒(同一机器，同一时间截)产生4096个ID序号&lt;br&gt;</div><div class="line"> * 加起来刚好64位，为一个Long型。&lt;br&gt;</div><div class="line"> * SnowFlake的优点是，整体上按照时间自增排序，并且整个分布式系统内不会产生ID碰撞(由数据中心ID和机器ID作区分)，并且效率较高，经测试，SnowFlake每秒能够产生26万ID左右。</div><div class="line"> */</div><div class="line">public class SnowflakeDistributeId &#123;</div><div class="line"></div><div class="line"></div><div class="line">    // ==============================Fields===========================================</div><div class="line">    /**</div><div class="line">     * 开始时间截 (2015-01-01)</div><div class="line">     */</div><div class="line">    private final long twepoch = 1420041600000L;</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 机器id所占的位数</div><div class="line">     */</div><div class="line">    private final long workerIdBits = 5L;</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 数据标识id所占的位数</div><div class="line">     */</div><div class="line">    private final long datacenterIdBits = 5L;</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 支持的最大机器id，结果是31 (这个移位算法可以很快的计算出几位二进制数所能表示的最大十进制数)</div><div class="line">     */</div><div class="line">    private final long maxWorkerId = -1L ^ (-1L &lt;&lt; workerIdBits);</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 支持的最大数据标识id，结果是31</div><div class="line">     */</div><div class="line">    private final long maxDatacenterId = -1L ^ (-1L &lt;&lt; datacenterIdBits);</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 序列在id中占的位数</div><div class="line">     */</div><div class="line">    private final long sequenceBits = 12L;</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 机器ID向左移12位</div><div class="line">     */</div><div class="line">    private final long workerIdShift = sequenceBits;</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 数据标识id向左移17位(12+5)</div><div class="line">     */</div><div class="line">    private final long datacenterIdShift = sequenceBits + workerIdBits;</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 时间截向左移22位(5+5+12)</div><div class="line">     */</div><div class="line">    private final long timestampLeftShift = sequenceBits + workerIdBits + datacenterIdBits;</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 生成序列的掩码，这里为4095 (0b111111111111=0xfff=4095)</div><div class="line">     */</div><div class="line">    private final long sequenceMask = -1L ^ (-1L &lt;&lt; sequenceBits);</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 工作机器ID(0~31)</div><div class="line">     */</div><div class="line">    private long workerId;</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 数据中心ID(0~31)</div><div class="line">     */</div><div class="line">    private long datacenterId;</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 毫秒内序列(0~4095)</div><div class="line">     */</div><div class="line">    private long sequence = 0L;</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 上次生成ID的时间截</div><div class="line">     */</div><div class="line">    private long lastTimestamp = -1L;</div><div class="line"></div><div class="line">    //==============================Constructors=====================================</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 构造函数</div><div class="line">     *</div><div class="line">     * @param workerId     工作ID (0~31)</div><div class="line">     * @param datacenterId 数据中心ID (0~31)</div><div class="line">     */</div><div class="line">    public SnowflakeDistributeId(long workerId, long datacenterId) &#123;</div><div class="line">        if (workerId &gt; maxWorkerId || workerId &lt; 0) &#123;</div><div class="line">            throw new IllegalArgumentException(String.format(&quot;worker Id can&apos;t be greater than %d or less than 0&quot;, maxWorkerId));</div><div class="line">        &#125;</div><div class="line">        if (datacenterId &gt; maxDatacenterId || datacenterId &lt; 0) &#123;</div><div class="line">            throw new IllegalArgumentException(String.format(&quot;datacenter Id can&apos;t be greater than %d or less than 0&quot;, maxDatacenterId));</div><div class="line">        &#125;</div><div class="line">        this.workerId = workerId;</div><div class="line">        this.datacenterId = datacenterId;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    // ==============================Methods==========================================</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 获得下一个ID (该方法是线程安全的)</div><div class="line">     *</div><div class="line">     * @return SnowflakeId</div><div class="line">     */</div><div class="line">    public synchronized long nextId() &#123;</div><div class="line">        long timestamp = timeGen();</div><div class="line"></div><div class="line">        //如果当前时间小于上一次ID生成的时间戳，说明系统时钟回退过这个时候应当抛出异常</div><div class="line">        if (timestamp &lt; lastTimestamp) &#123;</div><div class="line">            throw new RuntimeException(</div><div class="line">                    String.format(&quot;Clock moved backwards.  Refusing to generate id for %d milliseconds&quot;, lastTimestamp - timestamp));</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        //如果是同一时间生成的，则进行毫秒内序列</div><div class="line">        if (lastTimestamp == timestamp) &#123;</div><div class="line">            sequence = (sequence + 1) &amp; sequenceMask;</div><div class="line">            //毫秒内序列溢出</div><div class="line">            if (sequence == 0) &#123;</div><div class="line">                //阻塞到下一个毫秒,获得新的时间戳</div><div class="line">                timestamp = tilNextMillis(lastTimestamp);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        //时间戳改变，毫秒内序列重置</div><div class="line">        else &#123;</div><div class="line">            sequence = 0L;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        //上次生成ID的时间截</div><div class="line">        lastTimestamp = timestamp;</div><div class="line"></div><div class="line">        //移位并通过或运算拼到一起组成64位的ID</div><div class="line">        return ((timestamp - twepoch) &lt;&lt; timestampLeftShift) //</div><div class="line">                | (datacenterId &lt;&lt; datacenterIdShift) //</div><div class="line">                | (workerId &lt;&lt; workerIdShift) //</div><div class="line">                | sequence;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 阻塞到下一个毫秒，直到获得新的时间戳</div><div class="line">     *</div><div class="line">     * @param lastTimestamp 上次生成ID的时间截</div><div class="line">     * @return 当前时间戳</div><div class="line">     */</div><div class="line">    protected long tilNextMillis(long lastTimestamp) &#123;</div><div class="line">        long timestamp = timeGen();</div><div class="line">        while (timestamp &lt;= lastTimestamp) &#123;</div><div class="line">            timestamp = timeGen();</div><div class="line">        &#125;</div><div class="line">        return timestamp;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 返回以毫秒为单位的当前时间</div><div class="line">     *</div><div class="line">     * @return 当前时间(毫秒)</div><div class="line">     */</div><div class="line">    protected long timeGen() &#123;</div><div class="line">        return System.currentTimeMillis();</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 测试代码</div><div class="line">public static void main(String[] args) &#123;</div><div class="line">    SnowflakeDistributeId idWorker = new SnowflakeDistributeId(0, 0);</div><div class="line">    for (int i = 0; i &lt; 1000; i++) &#123;</div><div class="line">        long id = idWorker.nextId();</div><div class="line">//      System.out.println(Long.toBinaryString(id));</div><div class="line">        System.out.println(id);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<h4 id="其他方案【TODO】"><a href="#其他方案【TODO】" class="headerlink" title="其他方案【TODO】"></a>其他方案【TODO】</h4><ol>
<li>美团-idleaf</li>
<li>百度-UidGenerator</li>
</ol>
<h4 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h4><ol>
<li><a href="https://juejin.im/post/5d36c112e51d455cd73ba169" target="_blank" rel="external">https://juejin.im/post/5d36c112e51d455cd73ba169</a></li>
<li><a href="https://juejin.im/post/5d22972f6fb9a07edd2a34cc" target="_blank" rel="external">https://juejin.im/post/5d22972f6fb9a07edd2a34cc</a></li>
</ol>

                    
                    <!-- Tags Bottom -->
                    

                    <!-- Comments -->
                    



                </div>
                <div class="fl w-100 w-30-l center fw3 lh-copy pl4-ns tl black-50">
                    
                    <hr class="dn-l mw4 black-50 mt5" />
                    
                    <!-- Widget 1: About -->
                    <div class="mt5 mt0-l">
    <article class="dt db-l mw8 mw8-m mw5-ns center ml0-l bg-white mv3">
        <div class="dn dtc-m db-l v-mid tc pr4 pr0-l" style="min-width: 6rem;">
            <img src="http://tachyons.io/img/avatar_1.jpg" class="mb4-l br-100 h3 w3 h4-l w4-l dib" title="moon zhou">
        </div>
        <div class="dtc db-l v-mid lh-copy measure center f6 black-50 tj">
            My name is Jonathan Klughertz and this is my blog.<br>I am a full stack software engineer with a strong front-end focus.<br> I currently live and work in Singapore, hit me up if you are in the region.
        </div>
    </article>
</div>

                    <hr class="dn-l mw4 black-50 mt5" />
                    
                    <!-- Widget 2: Categories -->
                    

                    <!-- Widget 3: Recent Posts -->
                    <div class="mt5 tc tl-l">
    <h3>近期文章</h3>
    
        <p>
            <a href="/2019/08/12/签到类需求的设计与思考/">签到类需求的设计与思考</a>
        </p>
    
        <p>
            <a href="/2019/08/04/一次全表扫描关于分布式id的总结/">一次全表扫描关于分布式id的总结</a>
        </p>
    
        <p>
            <a href="/2019/08/03/Maven中jar依赖冲突解决/">Maven中jar依赖冲突解决</a>
        </p>
    
        <p>
            <a href="/2019/07/28/【Monkey Run】jquery 插件/">【Monkey Run】jquery 插件</a>
        </p>
    
        <p>
            <a href="/2019/07/28/【反思录】19年7月的一点思考/">【反思录】19年7月的一点思考</a>
        </p>
    
</div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Footer -->
<div class="bg-1 ph2 ph5-ns pv5">
        <div class="mv8">
            <div class="center tc">
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="https://twitter.com/?lang=en" target="_blank">
                            <i class="fa fa-twitter"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="https://www.facebook.com/" target="_blank">
                            <i class="fa fa-facebook"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="https://dribbble.com/" target="_blank">
                            <i class="fa fa-dribbble"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="https://github.com/klugjo/hexo-theme-anodyne" target="_blank">
                            <i class="fa fa-github"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="https://plus.google.com/" target="_blank">
                            <i class="fa fa-google-plus"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="https://www.behance.net/" target="_blank">
                            <i class="fa fa-behance"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="https://500px.com/" target="_blank">
                            <i class="fa fa-500px"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="mailto:test@example.com" target="_blank">
                            <i class="fa fa-envelope"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="/#" target="_blank">
                            <i class="fa fa-rss"></i>
                        </a>
                    </div>
                
            </div>
            <div class="f6 f5-ns center tc white pt5 fw3">
                @Untitled. All right reserved | Design & Hexo <a class="link dim white" href="http://www.codeblocq.com/">Jonathan Klughertz</a>
            </div>
        </div>
    </div>

<!-- After Footer -->
<!-- Disqus Comments -->



</body>

</html>